# Benchmark Tool

## Benchmark Server

## How to use

1. Prepare: start a server
2. Install https://test.store.blocklet.dev/blocklets/z2qa7xJnpqbLZ1jrnhCx9Z4vsLFopR1pe9M9U
3. Config "Invited only" for Static Demo component in Blocklet Dashboard
4. Save login_token from cookie in browser
5. Save any User Did from Blocklet Dashboard
6. Start Benchmark

```bash
$ ./benchmark-server.js http://your-app --user-did <did> --login-token <loginToken>

# set custom concurrenty
$ ./benchmark-server.js -c 500 http://your-app --user-did <did> --login-token <loginToken>
```

7. Results

```
Server Version: 1.16.8-beta-81db8efa
Platform: linux
CPU Cores: 4
Memory (GB): 8
┌─────────────────────────────────────────────────────┬─────────────┬──────────┬─────────┬──────┬───────┬────────┬────────┬────────┬────────┬───────────┐
│ Case                                                │ Concurrency │ Requests │ Success │ RPS  │ Min   │ 50%    │ 90%    │ 99%    │ Max    │ Test Time │
├─────────────────────────────────────────────────────┼─────────────┼──────────┼─────────┼──────┼───────┼────────┼────────┼────────┼────────┼───────────┤
│ /api/date                                           │ 100         │ 1000     │ 100%    │ 1120 │ 8 ms  │ 72 ms  │ 142 ms │ 349 ms │ 395 ms │ 0.9 s     │
├─────────────────────────────────────────────────────┼─────────────┼──────────┼─────────┼──────┼───────┼────────┼────────┼────────┼────────┼───────────┤
│ /api/date (with session)                            │ 100         │ 1000     │ 100%    │ 749  │ 7 ms  │ 120 ms │ 173 ms │ 213 ms │ 229 ms │ 1.36 s    │
├─────────────────────────────────────────────────────┼─────────────┼──────────┼─────────┼──────┼───────┼────────┼────────┼────────┼────────┼───────────┤
│ /.well-known/service/api/did/session                │ 100         │ 1000     │ 100%    │ 1979 │ 1 ms  │ 8 ms   │ 166 ms │ 614 ms │ 632 ms │ 0.77 s    │
├─────────────────────────────────────────────────────┼─────────────┼──────────┼─────────┼──────┼───────┼────────┼────────┼────────┼────────┼───────────┤
│ /.well-known/service/api/did/session (with session) │ 100         │ 1000     │ 100%    │ 515  │ 6 ms  │ 184 ms │ 202 ms │ 231 ms │ 257 ms │ 1.94 s    │
├─────────────────────────────────────────────────────┼─────────────┼──────────┼─────────┼──────┼───────┼────────┼────────┼────────┼────────┼───────────┤
│ /invited-only (without session)                     │ 100         │ 1000     │ 100%    │ 1294 │ 5 ms  │ 73 ms  │ 102 ms │ 128 ms │ 146 ms │ 0.77 s    │
├─────────────────────────────────────────────────────┼─────────────┼──────────┼─────────┼──────┼───────┼────────┼────────┼────────┼────────┼───────────┤
│ /api/user/z1jy1KtbVjuLS6u16McJxUgQQSu5CSk5HcZ       │ 100         │ 1000     │ 100%    │ 312  │ 10 ms │ 291 ms │ 449 ms │ 584 ms │ 605 ms │ 3.25 s    │
├─────────────────────────────────────────────────────┼─────────────┼──────────┼─────────┼──────┼───────┼────────┼────────┼────────┼────────┼───────────┤
│ /api/users                                          │ 100         │ 1000     │ 100%    │ 363  │ 11 ms │ 260 ms │ 315 ms │ 425 ms │ 469 ms │ 2.77 s    │
└─────────────────────────────────────────────────────┴─────────────┴──────────┴─────────┴──────┴───────┴────────┴────────┴────────┴────────┴───────────┘

```